!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("preact")):"function"==typeof define&&define.amd?define(["preact"],t):e.preactRenderToString=t(e.preact)}(this,function(e){var t=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function n(e){"string"!=typeof e&&(e=String(e));for(var t="",n=0;n<e.length;n++){var r=e[n];switch(r){case"<":t+="&lt;";break;case">":t+="&gt;";break;case'"':t+="&quot;";break;case"&":t+="&amp;";break;default:t+=r}}return t}var r=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"\t"))},o=function(e,t,n){return String(e).length>(t||40)||!n&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},a={};function i(e){var n="";for(var r in e){var o=e[r];null!=o&&(n&&(n+=" "),n+="-"==r[0]?r:a[r]||(a[r]=r.replace(/([A-Z])/g,"-$1").toLowerCase()),n+=": ",n+=o,"number"==typeof o&&!1===t.test(r)&&(n+="px"),n+=";")}return n||void 0}function l(e,t){for(var n in t)e[n]=t[n];return e}function s(e,t){return Array.isArray(t)?t.reduce(s,e):null!=t&&!1!==t&&e.push(t),e}var f={shallow:!0},c=[],u=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,p=function(){};_.render=_;function _(t,a,f,d,g,v){if(null==t||"boolean"==typeof t)return"";Array.isArray(t)&&(t=e.createElement(e.Fragment,null,t));var h=t.type,m=t.props,y=!1;a=a||{};var x,b=(f=f||{}).pretty,S=b&&"string"==typeof b?b:"\t";if("object"!=typeof t&&!h)return n(t);if("function"==typeof h){if(y=!0,!f.shallow||!d&&!1!==f.renderRootComponent){if(h===e.Fragment){var k="",w=[];s(w,t.props.children);for(var O=0;O<w.length;O++)k+=(O>0&&b?"\n":"")+_(w[O],a,f,!1!==f.shallowHighOrder,g,v);return k}var C,A=t.__c={__v:t,context:a,props:t.props,setState:p,forceUpdate:p,__h:[]};if(e.options.__b&&e.options.__b(t),e.options.__r&&e.options.__r(t),h.prototype&&"function"==typeof h.prototype.render){var F=h.contextType,j=F&&a[F.__c],H=null!=F?j?j.props.value:F.__:a;(A=t.__c=new h(m,H)).__v=t,A._dirty=A.__d=!0,A.props=m,null==A.state&&(A.state={}),null==A._nextState&&null==A.__s&&(A._nextState=A.__s=A.state),A.context=H,h.getDerivedStateFromProps?A.state=l(l({},A.state),h.getDerivedStateFromProps(A.props,A.state)):A.componentWillMount&&(A.componentWillMount(),A.state=A._nextState!==A.state?A._nextState:A.__s!==A.state?A.__s:A.state),C=A.render(A.props,A.state,A.context)}else{var T=h.contextType,$=T&&a[T.__c];C=h.call(t.__c,m,null!=T?$?$.props.value:T.__:a)}return A.getChildContext&&(a=l(l({},a),A.getChildContext())),_(C,a,f,!1!==f.shallowHighOrder,g,v)}h=(x=h).displayName||x!==Function&&x.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var n=-1,r=c.length;r--;)if(c[r]===e){n=r;break}n<0&&(n=c.push(e)-1),t="UnnamedComponent"+n}return t}(x)}var E,L,M="";if(m){var R=Object.keys(m);f&&!0===f.sortAttributes&&R.sort();for(var q=0;q<R.length;q++){var D=R[q],N=m[D];if("children"!==D){if(!D.match(/[\s\n\\/='"\0<>]/)&&(f&&f.allAttributes||"key"!==D&&"ref"!==D&&"__self"!==D&&"__source"!==D&&"defaultValue"!==D)){if("className"===D){if(m.class)continue;D="class"}else g&&D.match(/^xlink:?./)&&(D=D.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===D){if(m.for)continue;D="for"}"style"===D&&N&&"object"==typeof N&&(N=i(N)),"a"===D[0]&&"r"===D[1]&&"boolean"==typeof N&&(N=String(N));var P=f.attributeHook&&f.attributeHook(D,N,a,f,y);if(P||""===P)M+=P;else if("dangerouslySetInnerHTML"===D)L=N&&N.__html;else if("textarea"===h&&"value"===D)E=N;else if((N||0===N||""===N)&&"function"!=typeof N){if(!(!0!==N&&""!==N||(N=D,f&&f.xml))){M+=" "+D;continue}if("value"===D){if("select"===h){v=N;continue}"option"===h&&v==N&&(M+=" selected")}M+=" "+D+'="'+n(N)+'"'}}}else E=N}}if(b){var U=M.replace(/^\n\s*/," ");U===M||~U.indexOf("\n")?b&&~M.indexOf("\n")&&(M+="\n"):M=U}if(M="<"+h+M+">",String(h).match(/[\s\n\\/='"\0<>]/))throw new Error(h+" is not a valid HTML tag name in "+M);var W,z=String(h).match(u)||f.voidElements&&String(h).match(f.voidElements),I=[];if(L)b&&o(L)&&(L="\n"+S+r(L,S)),M+=L;else if(null!=E&&s(W=[],E).length){for(var V=b&&~M.indexOf("\n"),Z=!1,B=0;B<W.length;B++){var G=W[B];if(null!=G&&!1!==G){var J=_(G,a,f,!0,"svg"===h||"foreignObject"!==h&&g,v);if(b&&!V&&o(J)&&(V=!0),J)if(b){var K=J.length>0&&"<"!=J[0];Z&&K?I[I.length-1]+=J:I.push(J),Z=K}else I.push(J)}}if(b&&V)for(var Q=I.length;Q--;)I[Q]="\n"+S+r(I[Q],S)}if(I.length)M+=I.join("");else if(f&&f.xml)return M.substring(0,M.length-1)+" />";return z&&!W?M=M.replace(/>$/," />"):(b&&~M.indexOf("\n")&&(M+="\n"),M+="</"+h+">"),M}return _.shallowRender=function(e,t){return _(e,t,f)},_});
//# sourceMappingURL=index.js.map
